# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ZMK –î–õ–Ø CHARYBDIS 4X6 WIRELESS MK2 (BLK)

–ü—Ä–æ—à–∏–≤–∫–∞ ZMK –¥–ª—è –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π —Å–ø–ª–∏—Ç-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã **Charybdis 4x6 MK2 (—á–µ—Ä–Ω–∞—è)** —Å —Ç—Ä–µ–∫–±–æ–ª–æ–º PMW3610.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä –ú–ö2**: –í—Å–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ **8-–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π keymap –¥–ª—è –ú–ö1 –∏ –ú–ö2  
‚úÖ **–î–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–µ–∂–∏–º–∞ —Å–∫—Ä–æ–ª–ª–∞**: –ë—ã—Å—Ç—Ä—ã–π –∏ –º–µ–¥–ª–µ–Ω–Ω—ã–π  
‚úÖ **PMW3610 —Ç—Ä–µ–∫–±–æ–ª**: –î—Ä–∞–π–≤–µ—Ä badjeff zmk-0.4

## –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**: nice_nano (ProMicro nRF52840)
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞**: Charybdis 4x6 MK2 (—á–µ—Ä–Ω–∞—è)
- **–¢—Ä–µ–∫–±–æ–ª**: PMW3610 (CPI 1000)
- **ZMK**: main branch (rolling release)
- **Zephyr**: 4.1

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä–∞ –ú–ö2

### –ü—Ä–æ–±–ª–µ–º–∞

–£ –ú–ö2 **—Ä–∞–∑–Ω–∞—è —Ä–∞—Å–ø–∞–π–∫–∞** –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã –∏ —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä–∞:

**–û—Å–Ω–æ–≤–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ (Row 0-3)**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–µ –ø–∏–Ω—ã –ú–ö2: P0.10, P1.13 (–≤–º–µ—Å—Ç–æP1.0, P0.11 —É –ú–ö1)

**–¢–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä (Row 4)**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–º–µ—à–∞–Ω–Ω—ã–µ –ø–∏–Ω—ã:
  - Col 0, 1, 2: –æ–±—â–∏–µ –ø–∏–Ω—ã (P0.2, P0.29, P0.9)
  - Col 5, 6: –Ω–æ–≤—ã–µ –ø–∏–Ω—ã –ú–ö2 (P0.10, P1.13)

### –†–µ—à–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ–º **8-–∫–æ–ª–æ–Ω–æ—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É** —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º matrix transform:

**Col-gpios (8 –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –∫–∞–∂–¥—É—é –ø–æ–ª–æ–≤–∏–Ω—É)**:
- Col 0: P0.2 (–æ–±—â–∞—è)
- Col 1: P0.29 (–æ–±—â–∞—è)
- Col 2: P0.9 (–æ–±—â–∞—è)
- Col 3: P1.0 (—Å—Ç–∞—Ä–∞—è –ú–ö1 - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- Col 4: P0.11 (—Å—Ç–∞—Ä–∞—è –ú–ö1 - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- Col 5: P0.10 (–Ω–æ–≤–∞—è –ú–ö2) ‚úÖ
- Col 6: P1.13 (–Ω–æ–≤–∞—è –ú–ö2) ‚úÖ
- Col 7: P1.4 (–æ–±—â–∞—è)

**Matrix Transform –¥–ª—è Row 4 (—Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä)**:
```
–õ–µ–≤–∞—è: RC(4,5) RC(4,0) RC(4,1) RC(4,6) RC(4,2)
–ü—Ä–∞–≤–∞—è: RC(4,9) RC(4,8) RC(4,10)
```

–ú–∞–ø–ø–∏–Ω–≥:
- –õ–µ–≤–∞—è: Col 5, 0, 1, 6, 2 ‚Üí –ø–∏–Ω—ã P0.10, P0.2, P0.29, P1.13, P0.9
- –ü—Ä–∞–≤–∞—è: Col 1, 0, 2 (offset +8) ‚Üí –ø–∏–Ω—ã P0.29, P0.2, P0.9

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ 8 –∫–ª–∞–≤–∏—à —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä–∞ (5 —Å–ª–µ–≤–∞ + 3 —Å–ø—Ä–∞–≤–∞) —Ä–∞–±–æ—Ç–∞—é—Ç! ‚úÖ

## –†–µ–∂–∏–º—ã —Ç—Ä–µ–∫–±–æ–ª–∞

### 1. –°–Ω–∞–π–ø–µ—Ä—Å–∫–∏–π —Ä–µ–∂–∏–º (layer 3)
- –ú–∞—Å—à—Ç–∞–±: 1:3 (–∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤ 3 —Ä–∞–∑–∞)
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –¢–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 2. –†–µ–∂–∏–º –º—ã—à–∏ (layer 2)
- –ú–∞—Å—à—Ç–∞–±: 1:1 (–Ω–∞—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 3. –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª (layer 1)
- –ú–∞—Å—à—Ç–∞–±: 1:16
- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –æ—Å–∏: –≤–µ—Ä—Ç–∏–∫–∞–ª—å 1:8, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å 1:16

### 4. –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–æ–ª–ª (layer 0)
- –ú–∞—Å—à—Ç–∞–±: 1:10
- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –æ—Å–∏: –≤–µ—Ä—Ç–∏–∫–∞–ª—å 1:4, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å 1:8

## –°–±–æ—Ä–∫–∞ –∏ –ø—Ä–æ—à–∏–≤–∫–∞

### GitHub Actions

1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push
2. –°–∫–∞—á–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç `firmware_BLK_SVG`
3. –í –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–µ: `.uf2` —Ñ–∞–π–ª—ã + SVG –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### –ü—Ä–æ—à–∏–≤–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

1. –î–≤–∞–∂–¥—ã –Ω–∞–∂–º–∏ reset –Ω–∞ –ø–ª–∞—Ç–µ
2. –ü–ª–∞—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –∫–∞–∫ `NICENANO`
3. –°–∫–æ–ø–∏—Ä—É–π `.uf2` —Ñ–∞–π–ª –Ω–∞ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å
4. –ü–ª–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ú–ö1 –∏ –ú–ö2

üìñ **–°–º–æ—Ç—Ä–∏ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é**: [MIGRATION_MK1_TO_MK2.md](MIGRATION_MK1_TO_MK2.md)

### Quick Reference

**–ß—Ç–æ –º–µ–Ω—è—Ç—å**: –¢–æ–ª—å–∫–æ `config/boards/shields/charybdis/charybdis.dtsi`

**–û—Å–Ω–æ–≤–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ (Row 0-3)**:
- –ú–ö1: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç col 3,4
- –ú–ö2: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç col 5,6

**–¢–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä (Row 4)**:
- –ú–ö1 –ª–µ–≤—ã–π: `RC(4,3) RC(4,4) RC(4,1) RC(4,7) RC(4,2)`
- –ú–ö2 –ª–µ–≤—ã–π: `RC(4,5) RC(4,0) RC(4,1) RC(4,6) RC(4,2)`

- –ú–ö1 –ø—Ä–∞–≤—ã–π: `RC(4,11) RC(4,10) RC(4,8)`
- –ú–ö2 –ø—Ä–∞–≤—ã–π: `RC(4,9) RC(4,8) RC(4,10)`

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 08.02.2026 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä –ú–ö2 —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º matrix transform
- –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞—Å–ø–∞–π–∫–∏
- –í—ã—è–≤–ª–µ–Ω–æ: —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Col 0,1,2,5,6
- –õ–µ–≤–∞—è —Ç–∞–º–±: RC(4,5) RC(4,0) RC(4,1) RC(4,6) RC(4,2)
- –ü—Ä–∞–≤–∞—è —Ç–∞–º–±: RC(4,9) RC(4,8) RC(4,10)
- –í—Å–µ 8 –∫–ª–∞–≤–∏—à —Ç–∞–º–± –∫–ª–∞—Å—Ç–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—é –º–µ–∂–¥—É –ú–ö1 –∏ –ú–ö2

### 05.02.2026 - –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –¥–µ–ª–∏—Ç–µ–ª–∏ —Å–∫—Ä–æ–ª–ª–∞
- –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª: xy=16, wheel=8, hwheel=16
- –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–æ–ª–ª: xy=10, wheel=4, hwheel=8

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [ZMK Firmware](https://github.com/zmkfirmware/zmk)
- [PMW3610 Driver by badjeff](https://github.com/badjeff/zmk-pmw3610-driver)
- [ZMK Input Processors](https://zmk.dev/docs/keymaps/input-processors/scaler)
